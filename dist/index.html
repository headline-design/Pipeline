<!DOCTYPE html>
<div>
    <h1>The  appp</h1>
    <button onclick="test()">Connect</button>
    <button onclick="send()">Send Test Group TXN</button>
    <button onclick="send2()">Send Test single TXN</button>
    <button onclick="fundEscrow()">Test Fund Escrow</button>
</div>
<script src="index.js"></script>
<script>
    const Pipeline = window.pipeline
    const PipeWallet = window.PipeWallet
    const wallet = Pipeline.init()
    const Escrow = window.pipeEscrow
    //PipeWallet.init()

    let newEscrow = Escrow.createAccount()
    console.log(newEscrow)

    Pipeline.pipeConnector = "myAlgoWallet"
    function test() {
        Pipeline.connect(wallet).then(data => {
            Pipeline.readAccount(data).then(data2=>alert(JSON.stringify(data2)))
        })
    }

    function fundEscrow(){
        Escrow.fund(1000000)
    }

    function send() {

       Pipeline.appCallWithTxn(123456, ["testing"], Pipeline.address,0, "testing group note", index = 0)
            .then(data => {
                console.log(data);
            });
    }

    function send2() {
        Pipeline.send(Pipeline.address,0, "testing group note", undefined,undefined, 1234567)
            .then(data => {
                console.log(data);
            });
    }


</script>